{% extends 'base.html' %}

{% block header %}
    <h1>イベント</h1>
    <a class="btn btn-primary" href="{% url 'create' %}">作成</a>
{% endblock header %}

{% block content %}
<div class="shadow-sm p-3 mb-5 bg-white rounded">
    <ul class="nav nav-tabs" id="myTab" role="tablist">
        {% for event in events %}
            <li class="nav-item" role="presentation">
                <button class="nav-link {% if forloop.first %}active{% endif %}" id="tab{{ event.pk }}" data-bs-toggle="tab" data-bs-target="#event{{ event.pk }}" type="button" role="tab" aria-controls="event{{ event.pk }}" aria-selected="true">{{ event.title }}</button>
            </li>
        {% endfor %}
    </ul>
    <div class="tab-content" id="myTabContent">
        {% for event in events %}
            <div class="tab-pane fade {% if forloop.first %}show active{% endif %}" id="event{{ event.pk }}" role="tabpanel" aria-labelledby="tab{{ event.pk }}">
                <h3>{{ event.title }}</h3>
                <p>{{ event.date }}</p>
                <p>{{ event.description }}</p>
                <a href="{% url 'detail' event.pk %}" class="btn btn-primary">詳細</a>
                <a href="{% url 'update' event.pk %}" class="btn btn-secondary">編集</a>
                <a href="{% url 'delete' event.pk %}" class="btn btn-danger">削除</a>
            </div>
        {% endfor %}
    </div>
</div>
{% endblock content %}
